<p-toolbar styleClass="mb-6">
    <ng-template #start>
        <div class="flex items-center gap-2">
            <i class="pi pi-id-card"></i>
            <span class="font-bold">Gestão de Marcas - {{ isEditing ? 'Editar Marca' : 'Nova Marca' }}</span>
        </div>
    </ng-template>

    <ng-template #end>
        <p-button label="Voltar" icon="pi pi-arrow-left" severity="secondary" (click)="goBack()" />
    </ng-template>
</p-toolbar>

<div class="card">
    <form (ngSubmit)="saveBrand()">
        <div class="flex flex-col gap-6 p-4">
            <div>
                <label for="client" class="block font-bold mb-3">Cliente</label>
                <p-select [(ngModel)]="brand.client_id" name="client_id" inputId="client" [options]="filteredClients" optionLabel="label" optionValue="value" placeholder="Selecione um Cliente" 
                [style]="{'width': '100%'}" [filter]="true" (onFilter)="filterClients($event)" [loading]="loading" required
                />
                <small class="text-red-500" *ngIf="submitted && !brand.client_id">Cliente é obrigatório</small>
            </div>

            <div>
                <label for="name" class="block font-bold mb-3">Nome</label>
                <input type="text" pInputText id="name" name="name" [(ngModel)]="brand.name" required autofocus [style]="{'width': '100%'}" />
                <small class="text-red-500" *ngIf="submitted && !brand.name">Nome é obrigatório</small>
            </div>

            <div>
                <label for="status" class="block font-bold mb-3">Status</label>
                <p-select [(ngModel)]="brand.status" name="status" inputId="status" [options]="statuses" optionLabel="label" optionValue="value" placeholder="Selecione um Status" [style]="{'width': '100%'}" required />
                <small class="text-red-500" *ngIf="submitted && !brand.status">Status é obrigatório</small>
            </div>
        </div>

        <div class="flex justify-end gap-2 p-4 border-t-1">
            <p-button type="submit" label="Salvar" icon="pi pi-check" />
        </div>
    </form>
</div>